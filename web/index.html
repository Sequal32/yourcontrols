<div class="row" onload="OnLoad">
    <div class="col-12">
        <div class="alert w-100 alert-danger blert-margin" id="alert" role="alert">
            Not Connected
            <div class="rectangle" id="rectangle-status"></div>
        </div>
        <div class="alert w-100 alert-warning blert-margin" id="overloaded-alert" role="alert" hidden>The buffer is overloaded! Try reducing the updaterate in config.json.</div>
    </div>
    <div class="col-12">
        <div class="row">
            <div class="col-6">
                <div class="card w-100 themed" id="not_server_running">
                    <div class="card-body">
                        <h5 class="card-title">Join</h5>
                        <form class="needs-validation form-div" id="main-form-join" novalidate>
                            <div class="form-row justify-content-center auto-margin">
                                <div class="col-sm-auto bottom-margin" id="server-div">
                                    <label for="server-input">Server Hostname or IP</label>
                                    <input type="text" class="form-control themed  border-none" id="server-input-join" aria-describedby="ip-feedback" required>
                                    <div class="valid-feedback">
                                        Looks good!
                                    </div>
                                    <div class="invalid-feedback" id="ip-feedback">
                                        Please provide a valid ip or hostname.
                                    </div>
                                </div>
                                <div class="col-sm-auto bottom-margin" id="port-div">
                                    <label for="port-input">Port</label>
                                    <input type="text" class="form-control themed " id="port-input-join" aria-describedby="port-feedback" required>
                                    <div class="valid-feedback">
                                        Looks good!
                                    </div>
                                    <div class="invalid-feedback" id="port-feedback">
                                        Please provide a valid port number.
                                    </div>
                                </div>
                            </div>
                            <div class="form-row justify-content-center small-margin">
                                <button id="connect-button" type="submit" class="btn btn-success">Connect</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="card w-100 themed" hidden id="is_server_running">
                    <div class="card-body">
                        <h5 class="card-title">Join</h5>
                        <div>
                            You can only join when the server is not running.
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <div class="card w-100 themed" id="not_user_client">
                    <div class="card-body">
                        <h5 class="card-title">Host</h5>
                        <form class="needs-validation form-div" id="main-form-host" novalidate>
                            <div class="form-group col-sm-auto bottom-margin" id="port-div">
                                <label for="port-input">Port</label>
                                <input type="text" class="form-control themed " id="port-input-host" placeholder="Port" aria-describedby="port-feedback" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                                <div class="invalid-feedback" id="port-feedback">
                                    Please provide a valid port number.
                                </div>
                            </div>
                            <div id="radios" class="form-check">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="ipRadios" id="ip4" value="4" checked>
                                    <label class="form-check-label" for="ip4">IPv4</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="ipRadios" id="ip6" value="6">
                                    <label class="form-check-label" for="ip6">IPv6</label>
                                </div>
                            </div>
                            <div class="form-group form-row justify-content-center small-margin align-bottom">
                                <button type="submit" id="server-button" class="btn btn-primary">Start Server</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="card w-100 themed" hidden id="is_user_client">
                    <div class="card-body">
                        <h5 class="card-title">Host</h5>
                        <div>
                            You can only host when you're not connected to a server.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 spacer"></div>
    <div class="col-12">
        <div class="row">
            <div class="col-6">
                <div class="card themed ">
                    <div class="card-body">
                        <h5 class="card-title">Client List</h5>
                        <ul class="list-group ", id="connection-list"></ul>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <div class="card themed" id="is_client_server_running">
                    <div class="card-body">
                        <h5 class="card-title">Settings</h5>
                        <form class="needs-validation form-div" id="settings-form" novalidate>
                            <div class="form-group col-sm-auto small-margin align-bottom">
                                <label for="aircraft-list">Active Aircraft</label>
                                <select id="aircraft-list" class="form-control themed themed">
                                    <option selected value="" id="default-aircraft-option"></option>
                                </select>
                            </div>
                            <div class="form-group col-sm-auto bottom-margin" id="name-div">
                                <label for="name-input">Username</label>
                                <input type="text" class="form-control themed " id="username-input" placeholder="Username" aria-describedby="ip-feedback" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                                <div class="invalid-feedback" id="ip-feedback">
                                    Please provide a username.
                                </div>
                            </div>
                            <div class="form-group col-sm-auto bottom-margin" id="update-rate-div">
                                <label for="update-rate-input">Update Rate</label>
                                <input type="number" class="form-control themed " id="update-rate-input" aria-describedby="ip-feedback" required>
                                <small id="update-rate-input-help" class="form-text text-muted">The update rate that aircraft data is sent in hz. Setting this any higher may be unstable.</small>
                            </div>
                            <div class="form-group col-sm-auto bottom-margin" id="timeout-div">
                                <label for="timeout-input">Timeout Timer</label>
                                <input type="number" class="form-control themed " id="timeout-input" aria-describedby="ip-feedback" required>
                                <small id="timeout-input-help" class="form-text text-muted">How many seconds to try to establish a connection with the server before timing out.</small>
                            </div>
                            <div class="form-group col-sm-auto bottom-margin" id="buffer-div">
                                <label for="timeout-input">Buffer Size</label>
                                <input type="number" class="form-control themed " id="buffer-input" aria-describedby="ip-feedback" required>
                                <small id="timeout-input-help" class="form-text text-muted">How many packets to buffer. Useful for unstable connections but increases latency.</small>
                            </div>
                            <div class="form-group col-sm-auto bottom-margin">
                                <div class="form-check" id="buffer-div">
                                    <input class="form-check-input" type="checkbox" id="theme-select">
                                    <label for="theme-select">Use Dark theme?</label>
                                </div>
                            </div>
                            <div class="form-group col-sm-auto bottom-margin">
                                <div class="form-check" id="buffer-div">
                                    <input class="form-check-input" type="checkbox" id="beta-select">
                                    <label for="beta-select">Check For Betas?</label>
                                </div>
                            </div>
                            <div class="form-group form-row justify-content-center small-margin align-bottom">
                                <button type="submit" id="settings-button" class="btn btn-success">Save Settings</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="card themed" id="not_client_server_running" hidden>
                    <div class="card-body">
                        <h5 class="card-title">Settings</h5>
                        <div>
                            You can change the settings when you're not connected to a server or not running a server.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="restartModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content themed">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Restart Now?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                The settings that you changed need the application to be restarted.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Restart Later</button>
                <button type="button" class="btn btn-success" onclick="restart">Restart It Now</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content themed">
            <div class="modal-header">
                <h5 class="modal-title" id="version-alert-text"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Update It Later</button>
                <button type="button" class="btn btn-success" id="version_alert_button">Update It Now</button>
            </div>
        </div>
    </div>
</div>
